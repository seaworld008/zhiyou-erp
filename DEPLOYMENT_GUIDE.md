# å¿—å‹ERPç³»ç»Ÿ - éƒ¨ç½²ä¸å¯¹æ¥æŒ‡å—

## ğŸ“‹ ç›®å½•
- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¯åŠ¨](#å¿«é€Ÿå¯åŠ¨)
- [å¼€å‘ç¯å¢ƒæ­å»º](#å¼€å‘ç¯å¢ƒæ­å»º)
- [ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²](#ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²)
- [åç«¯APIå¯¹æ¥](#åç«¯apiå¯¹æ¥)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [æµ‹è¯•æŒ‡å—](#æµ‹è¯•æŒ‡å—)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)

---

## ğŸ­ é¡¹ç›®æ¦‚è¿°

å¿—å‹ERPæ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„å·¥ä¸šåˆ¶é€ å‹ERP/MESå‰ç«¯ç®¡ç†ç³»ç»Ÿï¼Œä¸“ä¸ºå·¥å‚ç”Ÿäº§ç¯å¢ƒè®¾è®¡ã€‚

### æ ¸å¿ƒç‰¹æ€§
- âœ… **27ä¸ªåŠŸèƒ½é¡µé¢** - å®Œæ•´çš„ä¸šåŠ¡æ¨¡å—è¦†ç›–
- âœ… **å·¥ä¸šçº§UIè®¾è®¡** - 3ç§ä¸»é¢˜(light/dark/factory)
- âœ… **å“åº”å¼å¸ƒå±€** - æ”¯æŒæ¡Œé¢ç«¯ã€å¹³æ¿ã€æ‰‹æœº
- âœ… **å®æ—¶æ•°æ®å±•ç¤º** - WebSocket + è‡ªåŠ¨åˆ·æ–°
- âœ… **å®Œæ•´æƒé™ç³»ç»Ÿ** - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- âœ… **é›¶ç¼–è¯‘é”™è¯¯** - ä¼ä¸šçº§ä»£ç è´¨é‡

### ä¸šåŠ¡æ¨¡å—
1. **ä»ªè¡¨ç›˜** - KPIæ¦‚è§ˆã€å®æ—¶å›¾è¡¨ã€å·¥ä½çœ‹æ¿
2. **å·¥åºSOP** - ä½œä¸šæŒ‡å¯¼ä¹¦ç®¡ç†ã€æ’­æ”¾ã€æ¥æ”¶ç¡®è®¤
3. **ç»©æ•ˆç®¡ç†** - å·¥æ—¶ã€è®¡ä»¶ã€ä¸šç»©ç»Ÿè®¡
4. **è€ƒå‹¤ç®¡ç†** - æ‰“å¡è®°å½•ã€æ’ç­ã€å®¡æ‰¹
5. **å“è´¨ç®¡ç†** - å¼‚å¸¸è·Ÿè¸ªã€æŠ½æ£€ã€è¿”ä¿®
6. **è®¾å¤‡ç®¡ç†** - çŠ¶æ€ç›‘æ§ã€ç‚¹æ£€ã€OEEåˆ†æ
7. **åº“å­˜ç®¡ç†** - å‡ºå…¥åº“ã€å®‰å…¨åº“å­˜é¢„è­¦
8. **ç”Ÿäº§ç®¡ç†** - å·¥å•ã€æŠ¥å·¥ã€ç‰©æ–™éœ€æ±‚
9. **Andonç³»ç»Ÿ** - å¼‚å¸¸å‘¼å«ã€å“åº”è¿½è¸ª
10. **æ¶ˆæ¯ä¸­å¿ƒ** - å¾…åŠäº‹é¡¹ã€ç³»ç»Ÿé€šçŸ¥
11. **æŠ¥è¡¨ä¸­å¿ƒ** - æ•°æ®å¯¼å‡ºã€å®šæ—¶æŠ¥è¡¨
12. **ç³»ç»Ÿç®¡ç†** - ç”¨æˆ·æƒé™ã€å‚æ•°é…ç½®ã€å®¡è®¡æ—¥å¿—

---

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **Vue 3.5.17** - ç»„åˆå¼API + `<script setup>`
- **TypeScript 5.8** - å®Œæ•´ç±»å‹å®‰å…¨
- **Vite** - ç°ä»£åŒ–æ„å»ºå·¥å…·
- **Element Plus 2.10.4** - ä¼ä¸šçº§UIç»„ä»¶åº“

### çŠ¶æ€ç®¡ç†
- **Pinia 3.0.3** - ç°ä»£çŠ¶æ€ç®¡ç†
- **Vue Router 4.5.1** - è·¯ç”±ç®¡ç†

### æ•°æ®å¯è§†åŒ–
- **ECharts 5.5.0** - å›¾è¡¨åº“
- **è‡ªå®šä¹‰å·¥ä¸šç»„ä»¶** - KPIå¡ç‰‡ã€è¿›åº¦æ¡ç­‰

### å·¥å…·é“¾
- **Axios 1.10.0** - HTTPå®¢æˆ·ç«¯
- **dayjs 1.11.13** - æ—¶é—´å¤„ç†
- **vue-i18n 10.0.4** - å›½é™…åŒ–(å¯é€‰)

---

## âš¡ å¿«é€Ÿå¯åŠ¨

### 1. ç¯å¢ƒè¦æ±‚
```bash
Node.js >= 18.0.0
npm >= 8.0.0 æˆ– yarn >= 1.22.0
```

### 2. å®‰è£…ä¾èµ–
```bash
cd zhiyou-erp-admin
npm install
```

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```
è®¿é—®: http://localhost:5173

### 4. é»˜è®¤ç™»å½•ä¿¡æ¯
```
ç”¨æˆ·å: erp
å¯†ç : 123456
```

### 5. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

---

## ğŸ”§ å¼€å‘ç¯å¢ƒæ­å»º

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd zhiyou-erp-admin
```

### 2. ç¯å¢ƒé…ç½®
å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼š
```bash
cp .env.example .env.local
```

ç¼–è¾‘ `.env.local`ï¼š
```bash
# APIåŸºç¡€URL
VITE_API_BASE_URL=http://localhost:8080/api

# WebSocketåœ°å€
VITE_WS_URL=ws://localhost:8080/ws

# ç³»ç»Ÿé…ç½®
VITE_APP_TITLE=å¿—å‹ERP
VITE_DEFAULT_THEME=light

# åŠŸèƒ½å¼€å…³
VITE_ENABLE_MOCK=true
VITE_ENABLE_WEBSOCKET=true
VITE_ENABLE_I18N=false
```

### 3. å¼€å‘å·¥å…·é…ç½®

#### VSCodeæ¨èæ’ä»¶
```json
{
  "recommendations": [
    "Vue.volar",
    "Vue.vscode-typescript-vue-plugin",
    "bradlc.vscode-tailwindcss",
    "esbenp.prettier-vscode",
    "dbaeumer.vscode-eslint"
  ]
}
```

#### ESLint + Prettier é…ç½®
é¡¹ç›®å·²é¢„é…ç½®ï¼Œæ”¯æŒï¼š
- TypeScriptç±»å‹æ£€æŸ¥
- Vue 3ç»„åˆå¼APIè§„èŒƒ
- è‡ªåŠ¨æ ¼å¼åŒ–

### 4. å¼€å‘æ¨¡å¼ç‰¹æ€§
- âœ… **çƒ­é‡è½½** - æ–‡ä»¶ä¿®æ”¹è‡ªåŠ¨åˆ·æ–°
- âœ… **Mockæ•°æ®** - å®Œæ•´çš„æ¨¡æ‹Ÿæ•°æ®ç³»ç»Ÿ
- âœ… **ç±»å‹æ£€æŸ¥** - å®æ—¶TypeScriptéªŒè¯
- âœ… **é”™è¯¯æç¤º** - è¯¦ç»†çš„å¼€å‘è€…é”™è¯¯ä¿¡æ¯

---

## ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### 1. æ„å»ºé…ç½®

#### ç¯å¢ƒå˜é‡ (.env.production)
```bash
VITE_API_BASE_URL=https://your-api-domain.com/api
VITE_WS_URL=wss://your-api-domain.com/ws
VITE_APP_TITLE=å¿—å‹ERPç”Ÿäº§ç³»ç»Ÿ
VITE_DEFAULT_THEME=factory
VITE_ENABLE_MOCK=false
VITE_ENABLE_WEBSOCKET=true
```

#### æ„å»ºå‘½ä»¤
```bash
# å®‰è£…ä¾èµ–
npm ci --only=production

# æ„å»º
npm run build

# è¾“å‡ºç›®å½•: dist/
```

### 2. Nginxé…ç½®

#### nginx.conf ç¤ºä¾‹
```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /var/www/zhiyou-erp/dist;
    index index.html;

    # Gzipå‹ç¼©
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml;

    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # SPAè·¯ç”±æ”¯æŒ
    location / {
        try_files $uri $uri/ /index.html;
    }

    # APIä»£ç†
    location /api {
        proxy_pass http://backend-server:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # WebSocketä»£ç†
    location /ws {
        proxy_pass http://backend-server:8080;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
    }
}
```

### 3. Dockeréƒ¨ç½²

#### Dockerfile
```dockerfile
# æ„å»ºé˜¶æ®µ
FROM node:18-alpine as builder

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production && npm cache clean --force

COPY . .
RUN npm run build

# ç”Ÿäº§é˜¶æ®µ
FROM nginx:alpine

# å¤åˆ¶æ„å»ºäº§ç‰©
COPY --from=builder /app/dist /usr/share/nginx/html

# å¤åˆ¶Nginxé…ç½®
COPY nginx.conf /etc/nginx/conf.d/default.conf

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
```

#### docker-compose.yml
```yaml
version: '3.8'

services:
  zhiyou-erp-frontend:
    build: .
    ports:
      - "80:80"
    environment:
      - NODE_ENV=production
    restart: unless-stopped
    networks:
      - erp-network

  # åç«¯æœåŠ¡ï¼ˆç¤ºä¾‹ï¼‰
  zhiyou-erp-backend:
    image: your-backend-image:latest
    ports:
      - "8080:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=prod
    restart: unless-stopped
    networks:
      - erp-network

networks:
  erp-network:
    driver: bridge
```

---

## ğŸ”Œ åç«¯APIå¯¹æ¥

### 1. APIè§„èŒƒ

#### ç»Ÿä¸€å“åº”æ ¼å¼
```typescript
interface ApiResponse<T = any> {
  code: number;        // 0=æˆåŠŸ, å…¶ä»–=é”™è¯¯ç 
  msg: string;         // å“åº”æ¶ˆæ¯
  data: T;            // å“åº”æ•°æ®
  traceId?: string;   // é“¾è·¯è¿½è¸ªID
}
```

#### è¯·æ±‚å¤´è®¾ç½®
```typescript
{
  'Content-Type': 'application/json',
  'Authorization': 'Bearer <token>',
  'X-Tenant-Id': '<tenant_id>',     // å¤šç§Ÿæˆ·æ”¯æŒ
  'X-Request-Id': '<request_id>'    // è¯·æ±‚è¿½è¸ª
}
```

### 2. è®¤è¯æˆæƒæ¥å£

#### ç™»å½•æ¥å£
```typescript
POST /api/auth/login
{
  "username": "string",
  "password": "string",
  "captcha"?: "string"
}

// å“åº”
{
  "code": 0,
  "msg": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "jwt_token_string",
    "refreshToken": "refresh_token_string",
    "expires": 1640995200,
    "user": {
      "id": "string",
      "username": "string", 
      "name": "string",
      "avatar": "string",
      "roles": ["admin", "operator"],
      "permissions": ["dash:view", "sop:edit"]
    }
  }
}
```

#### åˆ·æ–°ä»¤ç‰Œ
```typescript
POST /api/auth/refresh
{
  "refreshToken": "string"
}
```

#### è·å–ç”¨æˆ·èœå•
```typescript
GET /api/auth/menus

// å“åº”
{
  "code": 0,
  "data": [
    {
      "id": "dash",
      "path": "/dashboard", 
      "name": "ä»ªè¡¨ç›˜",
      "icon": "ep:data-analysis",
      "children": [...]
    }
  ]
}
```

### 3. æ ¸å¿ƒä¸šåŠ¡æ¥å£

#### ä»ªè¡¨ç›˜æ•°æ®
```typescript
// KPIæ•°æ®
GET /api/dashboard/kpis?date=2025-01-17

// æ¯å°æ—¶äº§é‡
GET /api/dashboard/hourly-output?date=2025-01-17&shift=day

// å¼‚å¸¸åˆ†å¸ƒ
GET /api/dashboard/abnormal?date=2025-01-17

// å·¥ä½çŠ¶æ€
GET /api/dashboard/workstations
```

#### SOPç®¡ç†
```typescript
// SOPåˆ—è¡¨
GET /api/sop/list?page=1&size=20&product_code=&process_code=

// SOPè¯¦æƒ…
GET /api/sop/{id}

// åˆ›å»ºSOP
POST /api/sop
{
  "product_code": "string",
  "process_code": "string", 
  "title": "string",
  "steps": [...],
  // ...å…¶ä»–å­—æ®µ
}

// æ›´æ–°SOP
PUT /api/sop/{id}

// SOPæ¥æ”¶ç¡®è®¤
POST /api/sop/{id}/acknowledge
{
  "user_id": "string",
  "station_id": "string"
}
```

#### ç»©æ•ˆæ•°æ®
```typescript
// ä»Šæ—¥ä¸šç»©
GET /api/performance/today?date=2025-01-17&dept_id=

// å·¥æ—¶è®°å½•
GET /api/performance/time-records?start_date=&end_date=&emp_id=
POST /api/performance/time-records

// è®¡ä»¶æ•°æ®
GET /api/performance/piece-records?start_date=&end_date=&emp_id=
POST /api/performance/piece-records
```

#### è€ƒå‹¤ç®¡ç†
```typescript
// æ‰“å¡è®°å½•
GET /api/attendance/records?date=2025-01-17&emp_id=
POST /api/attendance/checkin
POST /api/attendance/checkout

// æ’ç­è¡¨
GET /api/attendance/schedules?start_date=&end_date=&dept_id=
POST /api/attendance/schedules

// å¼‚å¸¸å®¡æ‰¹
GET /api/attendance/approvals?status=pending
POST /api/attendance/approvals/{id}/approve
```

### 4. WebSocketå®æ—¶æ•°æ®

#### è¿æ¥å»ºç«‹
```typescript
// è¿æ¥URL
ws://your-domain.com/ws?token=<jwt_token>

// æ¶ˆæ¯æ ¼å¼
{
  "type": "dashboard_update" | "andon_alert" | "message_notify",
  "data": any,
  "timestamp": 1640995200
}
```

#### è®¢é˜…ä¸»é¢˜
```typescript
// å‘é€è®¢é˜…æ¶ˆæ¯
{
  "action": "subscribe",
  "topics": ["dashboard", "workstation", "andon"]
}

// å–æ¶ˆè®¢é˜…
{
  "action": "unsubscribe", 
  "topics": ["dashboard"]
}
```

### 5. æ–‡ä»¶ä¸Šä¼ æ¥å£

#### å›¾ç‰‡/è§†é¢‘ä¸Šä¼ 
```typescript
POST /api/upload/file
Content-Type: multipart/form-data

{
  "file": File,
  "type": "image" | "video" | "document",
  "module": "sop" | "quality" | "other"
}

// å“åº”
{
  "code": 0,
  "data": {
    "url": "https://your-domain.com/uploads/xxx.jpg",
    "filename": "original_name.jpg",
    "size": 1024000,
    "type": "image/jpeg"
  }
}
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### 1. ç¯å¢ƒå˜é‡é…ç½®

#### å¼€å‘ç¯å¢ƒ (.env.development)
```bash
# APIé…ç½®
VITE_API_BASE_URL=http://localhost:8080/api
VITE_WS_URL=ws://localhost:8080/ws

# ç³»ç»Ÿé…ç½®
VITE_APP_TITLE=å¿—å‹ERPå¼€å‘ç‰ˆ
VITE_DEFAULT_THEME=light

# åŠŸèƒ½å¼€å…³
VITE_ENABLE_MOCK=true          # å¯ç”¨Mockæ•°æ®
VITE_ENABLE_WEBSOCKET=true     # å¯ç”¨WebSocket
VITE_ENABLE_I18N=false         # ç¦ç”¨å›½é™…åŒ–
VITE_ENABLE_DEVTOOLS=true      # å¯ç”¨å¼€å‘å·¥å…·

# æ€§èƒ½é…ç½®
VITE_DASHBOARD_REFRESH=30000   # ä»ªè¡¨ç›˜åˆ·æ–°é—´éš”(ms)
VITE_WORKSTATION_REFRESH=10000 # å·¥ä½æ•°æ®åˆ·æ–°é—´éš”(ms)
```

#### ç”Ÿäº§ç¯å¢ƒ (.env.production)
```bash
# APIé…ç½®
VITE_API_BASE_URL=https://api.zhiyou-erp.com/api
VITE_WS_URL=wss://api.zhiyou-erp.com/ws

# ç³»ç»Ÿé…ç½®  
VITE_APP_TITLE=å¿—å‹ERPç”Ÿäº§ç³»ç»Ÿ
VITE_DEFAULT_THEME=factory

# åŠŸèƒ½å¼€å…³
VITE_ENABLE_MOCK=false
VITE_ENABLE_WEBSOCKET=true
VITE_ENABLE_I18N=true
VITE_ENABLE_DEVTOOLS=false

# æ€§èƒ½é…ç½®
VITE_DASHBOARD_REFRESH=30000
VITE_WORKSTATION_REFRESH=5000

# å®‰å…¨é…ç½®
VITE_TOKEN_STORAGE_KEY=zhiyou_token
VITE_USER_INFO_KEY=zhiyou_user
VITE_SESSION_TIMEOUT=3600000   # ä¼šè¯è¶…æ—¶(ms)
```

### 2. ä¸»é¢˜é…ç½®

#### è‡ªå®šä¹‰ä¸»é¢˜
åœ¨ `src/styles/themes/` ä¸‹æ–°å»ºä¸»é¢˜æ–‡ä»¶ï¼š

```scss
// custom-theme.scss
:root[data-theme="custom"] {
  // ä¸»è‰²è°ƒ
  --color-primary: #your-color;
  --color-success: #your-color;
  --color-warning: #your-color;
  --color-danger: #your-color;
  
  // èƒŒæ™¯è‰²
  --bg-body: #your-color;
  --bg-card: #your-color;
  
  // æ–‡å­—è‰²
  --text-primary: #your-color;
  --text-secondary: #your-color;
  
  // è¾¹æ¡†è‰²
  --border-color: #your-color;
}
```

### 3. æƒé™é…ç½®

#### è§’è‰²æƒé™ç¤ºä¾‹
```typescript
// src/mock/user.ts
export const rolePermissions = {
  admin: [
    'dash:view', 'dash:workstation',
    'sop:view', 'sop:edit', 'sop:delete',
    'perf:view', 'perf:edit',
    'att:view', 'att:edit', 'att:approve',
    'sys:user', 'sys:param', 'sys:log'
  ],
  manager: [
    'dash:view', 'dash:workstation', 
    'sop:view', 'sop:edit',
    'perf:view', 'perf:edit',
    'att:view', 'att:approve'
  ],
  operator: [
    'dash:view',
    'sop:view', 'sop:ack', 'sop:play',
    'perf:today', 'perf:time', 'perf:piece',
    'att:record'
  ]
}
```

---

## ğŸ§ª æµ‹è¯•æŒ‡å—

### 1. å•å…ƒæµ‹è¯•
```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# æµ‹è¯•è¦†ç›–ç‡
npm run test:unit -- --coverage
```

### 2. E2Eæµ‹è¯•
```bash
# å®‰è£…æµè§ˆå™¨
npx playwright install

# è¿è¡ŒE2Eæµ‹è¯•
npm run test:e2e

# äº¤äº’å¼æµ‹è¯•
npm run test:e2e -- --ui
```

### 3. æ‰‹åŠ¨æµ‹è¯•æ¸…å•

#### ç™»å½•æµç¨‹
- [ ] æ­£ç¡®ç”¨æˆ·åå¯†ç ç™»å½•æˆåŠŸ
- [ ] é”™è¯¯å‡­æ®æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
- [ ] è®°ä½å¯†ç åŠŸèƒ½
- [ ] ç™»å‡ºåŠŸèƒ½

#### ä»ªè¡¨ç›˜
- [ ] KPIæ•°æ®æ­£ç¡®æ˜¾ç¤º  
- [ ] å›¾è¡¨æ¸²æŸ“æ­£å¸¸
- [ ] è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½
- [ ] å“åº”å¼å¸ƒå±€

#### å„ä¸šåŠ¡æ¨¡å—
- [ ] SOPç®¡ç†ï¼šåˆ—è¡¨ã€è¯¦æƒ…ã€ç¼–è¾‘ã€æ’­æ”¾
- [ ] ç»©æ•ˆç®¡ç†ï¼šä»Šæ—¥ä¸šç»©ã€å·¥æ—¶ã€è®¡ä»¶
- [ ] è€ƒå‹¤ç®¡ç†ï¼šè®°å½•ã€æ’ç­ã€å®¡æ‰¹
- [ ] æƒé™æ§åˆ¶ï¼šèœå•ã€æŒ‰é’®æƒé™

#### ç³»ç»ŸåŠŸèƒ½
- [ ] ä¸»é¢˜åˆ‡æ¢ï¼šlight/dark/factory
- [ ] å“åº”å¼ï¼šæ¡Œé¢/å¹³æ¿/æ‰‹æœº
- [ ] å›½é™…åŒ–ï¼šä¸­è‹±æ–‡åˆ‡æ¢(å¦‚å¯ç”¨)
- [ ] é”™è¯¯å¤„ç†ï¼šç½‘ç»œå¼‚å¸¸ã€æƒé™ä¸è¶³

### 4. æ€§èƒ½æµ‹è¯•

#### Lighthouseæµ‹è¯•
```bash
# å®‰è£…lighthouse
npm install -g lighthouse

# è¿è¡Œæ€§èƒ½æµ‹è¯•
lighthouse http://localhost:5173 --output html --output-path ./performance-report.html
```

ç›®æ ‡æŒ‡æ ‡ï¼š
- Performance: > 90
- Accessibility: > 95  
- Best Practices: > 90
- SEO: > 85

---

## ğŸ”§ æ•…éšœæ’é™¤

### 1. å¸¸è§é—®é¢˜

#### æ„å»ºå¤±è´¥
```bash
# æ¸…ç†ç¼“å­˜
rm -rf node_modules package-lock.json
npm install

# æ£€æŸ¥Nodeç‰ˆæœ¬
node --version  # éœ€è¦ >= 18.0.0
```

#### TypeScripté”™è¯¯
```bash
# é‡æ–°ç”Ÿæˆç±»å‹
npm run type-check

# æ£€æŸ¥é…ç½®æ–‡ä»¶
cat tsconfig.json
```

#### æ ·å¼é—®é¢˜
```bash
# æ£€æŸ¥SCSSç¼–è¯‘
npm run build

# æ¸…ç†æ ·å¼ç¼“å­˜
rm -rf dist .vite
```

### 2. å¼€å‘æœåŠ¡å™¨é—®é¢˜

#### ç«¯å£å ç”¨
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :5173

# æ€æ­»è¿›ç¨‹
kill -9 <PID>

# ä½¿ç”¨å…¶ä»–ç«¯å£
npm run dev -- --port 3000
```

#### çƒ­é‡è½½å¤±è´¥
```bash
# æ£€æŸ¥æ–‡ä»¶ç›‘å¬é™åˆ¶
echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf
sudo sysctl -p
```

### 3. éƒ¨ç½²é—®é¢˜

#### Nginx 404é”™è¯¯
ç¡®ä¿SPAè·¯ç”±é…ç½®æ­£ç¡®ï¼š
```nginx
location / {
    try_files $uri $uri/ /index.html;
}
```

#### APIè·¨åŸŸé—®é¢˜
åç«¯éœ€è¦é…ç½®CORSï¼š
```javascript
// Express.jsç¤ºä¾‹
app.use(cors({
  origin: ['http://localhost:5173', 'https://your-domain.com'],
  credentials: true
}))
```

#### WebSocketè¿æ¥å¤±è´¥
æ£€æŸ¥ä»£ç†é…ç½®ï¼š
```nginx
location /ws {
    proxy_pass http://backend;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
}
```

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. æ„å»ºä¼˜åŒ–

#### Viteé…ç½®ä¼˜åŒ–
```typescript
// vite.config.ts
export default defineConfig({
  build: {
    // ä»£ç åˆ†å‰²
    rollupOptions: {
      output: {
        manualChunks: {
          vue: ['vue', 'vue-router', 'pinia'],
          element: ['element-plus'],
          charts: ['echarts'],
          utils: ['axios', 'dayjs']
        }
      }
    },
    // å‹ç¼©é…ç½®
    terserOptions: {
      compress: {
        drop_console: true,
        drop_debugger: true
      }
    }
  }
})
```

### 2. è¿è¡Œæ—¶ä¼˜åŒ–

#### è·¯ç”±æ‡’åŠ è½½
```typescript
// router/index.ts  
const routes = [
  {
    path: '/dashboard',
    component: () => import('../views/Dashboard.vue')
  }
]
```

#### å›¾ç‰‡ä¼˜åŒ–
```vue
<!-- ä½¿ç”¨WebPæ ¼å¼ -->
<img 
  :src="webpUrl" 
  :fallback="jpegUrl"
  loading="lazy" 
/>
```

#### ç¼“å­˜ç­–ç•¥
```typescript
// APIç¼“å­˜
axios.get('/api/dashboard/kpis', {
  headers: {
    'Cache-Control': 'max-age=300' // 5åˆ†é’Ÿç¼“å­˜
  }
})
```

### 3. ç›‘æ§å’Œåˆ†æ

#### æ€§èƒ½ç›‘æ§
```typescript
// main.ts
if (import.meta.env.PROD) {
  // æ€§èƒ½ç›‘æ§SDKåˆå§‹åŒ–
  performanceMonitor.init({
    appId: 'zhiyou-erp',
    version: '1.0.0'
  })
}
```

#### é”™è¯¯ç›‘æ§
```typescript
// å…¨å±€é”™è¯¯å¤„ç†
app.config.errorHandler = (error) => {
  console.error('å…¨å±€é”™è¯¯:', error)
  // å‘é€åˆ°ç›‘æ§å¹³å°
  errorMonitor.report(error)
}
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼
- **æŠ€æœ¯æ–‡æ¡£**: æœ¬æ–‡æ¡£
- **é—®é¢˜åé¦ˆ**: åˆ›å»ºIssue
- **åŠŸèƒ½å»ºè®®**: æäº¤Feature Request

### å¼€å‘å›¢é˜Ÿ
- **æ¶æ„å¸ˆ**: AI Assistant
- **UI/UX**: å·¥ä¸šè®¾è®¡ä¸“å®¶
- **å‰ç«¯**: Vue 3 + TypeScriptä¸“å®¶
- **æµ‹è¯•**: è‡ªåŠ¨åŒ–æµ‹è¯•ä¸“å®¶

---

## ğŸ“œ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-01-17)
- âœ… å®Œæˆ27ä¸ªåŠŸèƒ½é¡µé¢å¼€å‘
- âœ… å®ç°3å¥—ä¸»é¢˜ç³»ç»Ÿ
- âœ… å®ŒæˆElement Plusè¿ç§»
- âœ… é›¶TypeScriptç¼–è¯‘é”™è¯¯
- âœ… å®Œæ•´E2Eæµ‹è¯•è¦†ç›–
- âœ… ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å°±ç»ª

---

**ğŸ‰ é¡¹ç›®å·²è¾¾åˆ°ç”Ÿäº§å°±ç»ªçŠ¶æ€ï¼Œå¯ç«‹å³å¯¹æ¥åç«¯APIå¹¶æŠ•å…¥ä½¿ç”¨ï¼** 